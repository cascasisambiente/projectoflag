

<div class="alert alert-danger p-5"
     *ngIf="error">
  <h2>Ocorreu um erro na pesquisa de dados!!!</h2>
  <p>{{ error }}</p>
  <button class="btn btn-danger" (click)="onHandleErro()">Tentar de novo</button>
</div>

<app-spinner
  *ngIf="!circuitos && !error">
</app-spinner>

<div class="table"
  *ngIf="circuitos">

  <div class="page-buttons">
    <button
      *ngIf="previous"
      class="btn prev"
      (click)="fetchPrevious()">
      Anterior
    </button>
    <button
      *ngIf="next"
      class="btn prev"
      (click)="fetchNext()">
      Próxima
    </button>
  </div>

  <mat-form-field>
    <input matInput type="text" (keyup)="filter($event.target.value)" placeholder="Filtrar">
  </mat-form-field>

  <mat-table class="table" [dataSource]="dataSource" matSort>

    <ng-container
      *ngFor="let column of columns"
      matColumnDef="{{column}}">
      <mat-header-cell *matHeaderCellDef mat-sort-header>{{column}}</mat-header-cell>
      <mat-cell
        *matCellDef="let element">{{ element[column] }}</mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="columns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: columns"></mat-row>
  </mat-table>

  <div class="page-buttons">
    <button
      *ngIf="previous"
      class="btn prev"
      (click)="fetchPrevious()">
      Anterior
    </button>
    <button
      *ngIf="next"
      class="btn prev"
      (click)="fetchNext()">
      Próxima
    </button>
  </div>

</div>

